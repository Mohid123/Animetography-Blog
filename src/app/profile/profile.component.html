<button
  tuiButton
  type="button"
  appearance="accent"
  size="m"
  icon="tuiIconArrowLeftLarge"
  class="tui-space_left-16 tui-space_top-3"
>
  <a routerLink="/view-posts" class="w-full px-5 py-5">Go Back</a>
</button>
<section class="profile-description px-8 py-10 rounded-md">
  <div class="flex md:flex-row flex-col justify-between items-center">
    <div class="py-3 lg:py-0">
      <tui-badged-content
        contentBottom="tuiIconSettings"
        colorTop="var(--tui-success-fill)"
        colorBottom="var(--tui-error-fill)"
        size="l"
        class="tui-space_right-5"
        [rounded]="true"
        [tuiDropdown]="dropdownContent"
        [tuiDropdownManual]="openDropDown"
        [tuiDropdownDirection]="'bottom'"
        (click)="toggleDropdown()"
      >
      <tui-avatar
        [text]="currentUser?.username"
        size="l"
        [rounded]="true"
        [avatarUrl]="currentUser?.avatar[0]?.captureFileURL"
      ></tui-avatar>
      </tui-badged-content>
    </div>
    <div class="pb-3 lg:pb-0">
      <p class="text-[#C077C8] md:text-xl text-base font-semibold">{{currentUser?.username || 'Your username will appear here'}}</p>
    </div>
    <div class="py-3 lg:py-0">
      <p class="md:text-xl text-base text-[#C077C8] font-semibold">{{ currentUser?.firstName +'  '+  currentUser?.lastName}}</p>
      <p class="text-sm text-[#C077C8]">{{currentUser?.email}}</p>
      <div class="flex justify-start my-2">
        <p class="text-sm text-[#C077C8] inline">Writer status:</p>
        <tui-checkbox [formControl]="writerControl" class="tui-space_bottom-3 tui-space_left-3"></tui-checkbox>
      </div>
    </div>
  </div>
</section>

<tui-tabs tuiMobileTabs class="mx-2 lg:mx-20 md:mx-10" [activeItemIndex]="activeIndex">
  <ng-container *ngFor="let item of items; let i = index">
    <button
      tuiTab
      tuiRipple="var(--tui-text-01)"
      (click)="i === 0 ? activeIndex = 0 : activeIndex = 1"
    >
    <tui-svg
      class="tui-space_right-2"
      [src]="item.icon"
    ></tui-svg>
    {{item.text}}
  </button>
  </ng-container>
</tui-tabs>

<section *ngIf="activeIndex == 0" class="lg:mx-20 md:mx-10 mx-2 my-5">
  <div class="grid grid-cols-1 lg:grid-cols-2 1.5xl:grid-cols-3 gap-4 py-5">
    <ng-container *ngFor="let fav of favorites$; let i = index; trackBy: trackByFn;">
      <ng-container *ngIf="(favoritePosts$ | async) == false">
        <app-favorite-post
          [author]="fav?.author"
          [createdAt]="fav?.postedDate"
          [coverImage]="fav?.coverImage[0]?.captureFileURL"
        ></app-favorite-post>
      </ng-container>
    </ng-container>
    <ng-container *ngIf="(favoritePosts$ | async)">
      <ng-container *ngFor="let arr of Arr(3).fill(1)">
        <app-blog-post-skeleton class=""></app-blog-post-skeleton>
      </ng-container>
    </ng-container>
  </div>
</section>

<ng-template #dropdownContent>
  <div class="mx-8 my-3 flex flex-col justify-center items-center">
    <span class="text-sm text-rose-600 font-semibold cursor-pointer">Edit profile</span>
  </div>
</ng-template>